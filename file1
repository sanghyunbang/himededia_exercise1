ë¨¼ì €, í˜„ì‹¤ì ì¸ ë„ì„œê´€ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê³ ë ¤í•˜ì—¬ í…Œì´ë¸”ì„ ë³´ì™„í•˜ê³ , ì „ì²´ì ì¸ í”„ë¡œê·¸ë˜ë° ê³„íšì•ˆì„ ìˆ˜ë¦½í•´ë³¼ê²Œ.
í”„ë¡œì íŠ¸ì˜ ëª©í‘œëŠ” ì½˜ì†” ê¸°ë°˜ì˜ ë„ì„œ ëŒ€ì—¬ ê´€ë¦¬ í”„ë¡œê·¸ë¨ì„ ë§Œë“œëŠ” ê²ƒì´ê³ , Java (Eclipse) + MySQLì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ì´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê³„íšì„ ì •ë¦¬í• ê²Œ.

ğŸ“Œ 1. í”„ë¡œì íŠ¸ ê°œìš”
ğŸ“– í”„ë¡œê·¸ë¨ëª…: ë„ì„œ ëŒ€ì—¬ ê´€ë¦¬ ì‹œìŠ¤í…œ (Library Rental Management System)
ì‚¬ìš© í™˜ê²½: Java (Eclipse) + MySQL
ìš´ì˜ ë°©ì‹: ì½˜ì†” ê¸°ë°˜
ë°°í¬ ì—¬ë¶€: ì—†ìŒ (ê°œì¸ ì‚¬ìš© ëª©ì )
ì£¼ìš” ê¸°ëŠ¥:
ë„ì„œ ê´€ë¦¬ (ë“±ë¡, ìˆ˜ì •, ê²€ìƒ‰, ì‚­ì œ)
íšŒì› ê´€ë¦¬ (ë“±ë¡, ìˆ˜ì •, ê²€ìƒ‰, ì‚­ì œ)
ëŒ€ì¶œ ê´€ë¦¬ (ëŒ€ì¶œ, ë°˜ë‚©, ì—°ì¥, ì—°ì²´ í™•ì¸)
ğŸ“Œ 2. ì—…ë¬´ íë¦„ë„
ì—…ë¬´ íë¦„ì„ ì´í•´í•˜ê¸° ì‰½ê²Œ ì•„ë˜ì™€ ê°™ì€ ê¸°ë³¸ì ì¸ íë¦„ë„ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì–´.

íšŒì› ê°€ì… â†’ ë„ì„œ ë“±ë¡ â†’ ë„ì„œ ê²€ìƒ‰ ë° ëŒ€ì¶œ â†’ ë°˜ë‚© ë˜ëŠ” ì—°ì¥
ì—°ì²´ ìƒíƒœ ê´€ë¦¬ ë° ì—°ì²´ ì´ë ¥ ì €ì¥
ì‚¬ì„œ(admin)ì™€ ì¼ë°˜ ì‚¬ìš©ì(user) ê¶Œí•œ êµ¬ë¶„ ê°€ëŠ¥ (ì¶”ê°€ ê°€ëŠ¥)
ğŸ“Œ 3. ë°ì´í„° í…Œì´ë¸” ì„¤ê³„
ê¸°ë³¸ì ìœ¼ë¡œ ë„ì„œ ê´€ë¦¬, íšŒì› ê´€ë¦¬, ëŒ€ì¶œ ê´€ë¦¬ë¥¼ ìœ„í•œ í…Œì´ë¸”ì„ í™•ì¥í•´ì„œ ì„¤ê³„í•´ë³¼ê²Œ.

ğŸ“‚ 3-1. ë„ì„œ í…Œì´ë¸” (BOOK)
ë„ì„œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”.

ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	ì±… ID (ìë™ ì¦ê°€)
TITLE	VARCHAR(255)	ë„ì„œ ì œëª©
ISBN	VARCHAR(20)	ISBN ë²ˆí˜¸ (ì¤‘ë³µ í—ˆìš© ì•ˆ í•¨)
AUTHOR	VARCHAR(100)	ì €ì
PUBLISHER	VARCHAR(100)	ì¶œíŒì‚¬
ISSUE_YEAR	INT	ì¶œíŒ ì—°ë„
PRICE	DECIMAL(10,2)	ë„ì„œ ê°€ê²©
STOCK	INT	ì´ ë³´ìœ  ê¶Œìˆ˜
CREATED	TIMESTAMP	ìƒì„±ì¼
UPDATED	TIMESTAMP	ìˆ˜ì •ì¼
ğŸ“‚ 3-2. íšŒì› í…Œì´ë¸” (MEMBER)
íšŒì› ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”.

ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	íšŒì› ID (ìë™ ì¦ê°€)
NAME	VARCHAR(100)	ì´ë¦„
USERID	VARCHAR(50)	íšŒì› ê³„ì • ID
PASSWORD	VARCHAR(255)	ë¹„ë°€ë²ˆí˜¸ (í•´ì‹± í•„ìš”)
GENDER	ENUM('M','F')	ì„±ë³„
MOBILE	VARCHAR(20)	íœ´ëŒ€í° ë²ˆí˜¸
EMAIL	VARCHAR(100)	ì´ë©”ì¼ ì£¼ì†Œ
REGISTERED	TIMESTAMP	ê°€ì…ì¼
UPDATED	TIMESTAMP	ìˆ˜ì •ì¼
ğŸ“‚ 3-3. ëŒ€ì¶œ í…Œì´ë¸” (RENT)
ë„ì„œ ëŒ€ì¶œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”.

ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	ëŒ€ì¶œ ID (ìë™ ì¦ê°€)
BOOK_ID	INT (FK)	ë„ì„œ ID (BOOK í…Œì´ë¸” ì°¸ì¡°)
MEMBER_ID	INT (FK)	íšŒì› ID (MEMBER í…Œì´ë¸” ì°¸ì¡°)
RENT_DATE	TIMESTAMP	ëŒ€ì¶œì¼ (CURRENT_TIMESTAMP)
EXPECTED_RETURN	TIMESTAMP	ë°˜ë‚© ì˜ˆì •ì¼ (ëŒ€ì¶œì¼ + 14ì¼)
RETURNED_DATE	TIMESTAMP	ì‹¤ì œ ë°˜ë‚©ì¼
EXTENDED_DATE	TIMESTAMP	ì—°ì¥ëœ ë‚ ì§œ (NULLì´ë©´ ì—°ì¥ ì•ˆ í•¨)
STATUS	ENUM('ëŒ€ì¶œì¤‘', 'ë°˜ë‚©ë¨', 'ì—°ì²´')	ëŒ€ì¶œ ìƒíƒœ
ğŸ“‚ 3-4. ì—°ì²´ í…Œì´ë¸” (OVERDUE)
ì—°ì²´ëœ ë‚´ì—­ì„ ë³„ë„ë¡œ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”.

ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	ì—°ì²´ ID (ìë™ ì¦ê°€)
RENT_ID	INT (FK)	ëŒ€ì¶œ ID (RENT í…Œì´ë¸” ì°¸ì¡°)
MEMBER_ID	INT (FK)	íšŒì› ID (MEMBER í…Œì´ë¸” ì°¸ì¡°)
OVERDUE_DAYS	INT	ì—°ì²´ ì¼ìˆ˜
FINE_AMOUNT	DECIMAL(10,2)	ì—°ì²´ë£Œ (ì˜ˆ: 1ì¼ë‹¹ 500ì›)
PAID_STATUS	ENUM('ë¯¸ë‚©', 'ì™„ë‚©')	ì—°ì²´ë£Œ ë‚©ë¶€ ìƒíƒœ
ğŸ“Œ 4. ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ
âœ… ê¸°ë³¸ ìš”êµ¬ì‚¬í•­
ğŸ“ ë„ì„œ ê´€ë¦¬
 ë„ì„œ ë“±ë¡ (C)
 ë„ì„œ ì •ë³´ ì¡°íšŒ (R)
ì „ì²´ ë„ì„œ ëª©ë¡ ì¡°íšŒ
ì±… ì œëª© ë˜ëŠ” ì €ì ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰
 ë„ì„œ ì •ë³´ ìˆ˜ì • (U)
 ë„ì„œ ì‚­ì œ (D)
ğŸ“ íšŒì› ê´€ë¦¬
 íšŒì› ê°€ì… (C)
 íšŒì› ì •ë³´ ì¡°íšŒ (R)
ì „ì²´ íšŒì› ëª©ë¡ ì¡°íšŒ
íšŒì› ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰
 íšŒì› ì •ë³´ ìˆ˜ì • (U)
 íšŒì› íƒˆí‡´ (D)
ğŸ“ ëŒ€ì¶œ ê´€ë¦¬
 ë„ì„œ ëŒ€ì¶œ (C)
 ëŒ€ì¶œ ë‚´ì—­ ì¡°íšŒ (R)
ëŒ€ì¶œ ì¤‘ì¸ ë„ì„œ ëª©ë¡ ì¡°íšŒ
ë°˜ë‚© ì™„ë£Œëœ ë‚´ì—­ ì¡°íšŒ
ì—°ì²´ ë‚´ì—­ ì¡°íšŒ
 ë°˜ë‚© ì²˜ë¦¬ (U)
 ëŒ€ì¶œ ì—°ì¥ (U)
 ì—°ì²´ ì‹œ ìë™ ì²˜ë¦¬ (U)
ğŸ“Œ 5. ê°œë°œ ê³„íš
ë‹¨ê³„	ì„¸ë¶€ í•­ëª©	ì„¤ëª…
1ë‹¨ê³„	í”„ë¡œì íŠ¸ ì„¸íŒ…	Java + Eclipse + MySQL í™˜ê²½ ì„¤ì •
2ë‹¨ê³„	ERD ì„¤ê³„	MySQL í…Œì´ë¸” ë° ê´€ê³„ ì •ì˜
3ë‹¨ê³„	CRUD êµ¬í˜„	ê¸°ë³¸ ê¸°ëŠ¥ (ë„ì„œ, íšŒì›, ëŒ€ì¶œ ê´€ë¦¬)
4ë‹¨ê³„	ê²€ìƒ‰ ê¸°ëŠ¥	ì œëª©, ì €ì, íšŒì› ê²€ìƒ‰ ì¶”ê°€
5ë‹¨ê³„	ëŒ€ì¶œ/ë°˜ë‚©	ëŒ€ì¶œ, ë°˜ë‚©, ì—°ì¥ ê¸°ëŠ¥ êµ¬í˜„
6ë‹¨ê³„	ì—°ì²´ ê¸°ëŠ¥	ì—°ì²´ ë°œìƒ ë° ì—°ì²´ë£Œ ê´€ë¦¬ ê¸°ëŠ¥
7ë‹¨ê³„	í…ŒìŠ¤íŠ¸	ë°ì´í„° ì…ë ¥ ë° ê²€ì¦
8ë‹¨ê³„	ë¬¸ì„œí™”	README.md ì‘ì„± ë° GitHub ë“±ë¡
ğŸ“Œ 6. ì¶”ê°€ ê³ ë ¤ì‚¬í•­
ë¡œê·¸ì¸/ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„ ì—¬ë¶€

íšŒì›ë³„ ê³„ì •ì„ ë§Œë“¤ì–´ ë¡œê·¸ì¸ í›„ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ í•  ê²ƒì¸ì§€?
ì‚¬ì„œ(admin)ì™€ ì¼ë°˜ ì‚¬ìš©ì(user) ê¶Œí•œì„ êµ¬ë¶„í•  ê²ƒì¸ì§€?
ëŒ€ì¶œ ê°€ëŠ¥ ê¶Œìˆ˜ ì œí•œ

í•œ íšŒì›ì´ ë™ì‹œì— ë¹Œë¦´ ìˆ˜ ìˆëŠ” ìµœëŒ€ ë„ì„œ ê¶Œìˆ˜ë¥¼ ì„¤ì •í• ì§€?
ì—°ì²´ë£Œ ì •ì±…

í•˜ë£¨ ì—°ì²´ ì‹œ 500ì› ê°™ì€ ë²Œê¸ˆ ì‹œìŠ¤í…œ ì ìš© ì—¬ë¶€
ë¡œê·¸ ê´€ë¦¬

ë„ì„œ ë°˜ë‚©/ëŒ€ì¶œ ë¡œê·¸ë¥¼ ì €ì¥í•˜ì—¬ íˆìŠ¤í† ë¦¬ë¥¼ ê´€ë¦¬í• ì§€?
ğŸ“Œ 7. ê²°ë¡ 
ì´ ê³„íšì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë‚˜ì”© êµ¬í˜„í•˜ë©´ ì²´ê³„ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì„ ê±°ì•¼.
ìš°ì„  MySQLì— í…Œì´ë¸”ì„ ì •ì˜í•˜ê³ , ê¸°ë³¸ì ì¸ CRUD ê¸°ëŠ¥ë¶€í„° êµ¬í˜„í•œ í›„, ëŒ€ì¶œ ë° ì—°ì²´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ë©´ ë¼.

ì´ì œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ERD ë‹¤ì´ì–´ê·¸ë¨ê³¼ êµ¬ì²´ì ì¸ SQL í…Œì´ë¸” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ë³¼ê¹Œ? ğŸ˜Š








ë‚˜ì˜ ë§:
1. ìš°ì„  ì¶”ê°€ ê³ ë ¤ ì‚¬í•­ì— ëŒ€í•´ì„œ ë§í•´ì¤„ê²Œ.
1) ë¡œê·¸ì¸ / ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„ ì—¬ë¶€
: ì¸ì¦ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ë ¤ê³  í•´. ì‚¬ì„œëŠ” ëª¨ë“  ìë£Œ ì—´ëŒì´ ê°€ëŠ¥í•œ ë°˜ë©´, ì¼ë°˜ ì‚¬ìš©ìëŠ” í•´ë‹¹ ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ê³  ë„ì„œ ì—´ëŒì€ ëª¨ë‘ ê°€ëŠ¥í•˜ì§€ë§Œ, íšŒì› ì •ë³´ëŠ” ë³¸ì¸ìœ¼ë¡œ ì œí•œë˜ë„ë¡ í•˜ê³  ì‹¶ì–´.

2) ëŒ€ì¶œ ê°€ëŠ¥ ê¶Œìˆ˜ëŠ” ìµœëŒ€ 5ê¶Œìœ¼ë¡œ í•˜ê³  ì‹¶ì–´.

3) ì—°ì²´ë£ŒëŠ” í•˜ë£¨ 500ì›ìœ¼ë¡œ í•˜ê³  ì‹¶ì–´/

4) ë°˜ë‚©/ëŒ€ì¶œ ë¡œê·¸ë¥¼ ì €ì¥í•´ì„œ íˆìŠ¤í† ë¦¬ë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ì–´

ì´ë¥¼ ê³ ë ¤í•˜ê³  ë‹¤ìŒ ë¶€ë¶„ì„ í•  ê³µê°„ì´ ë˜ë©´ ì´ì–´ì„œ í•´ì¤˜
ChatGPTì˜ ë§:
ë©”ëª¨ë¦¬ ì—…ë°ì´íŠ¸ë¨
ì´ì œ ìœ„ì˜ ê³ ë ¤ ì‚¬í•­ì„ ë°˜ì˜í•˜ì—¬ ERD ë‹¤ì´ì–´ê·¸ë¨, í…Œì´ë¸” ì •ì˜ì„œ, ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ, ê·¸ë¦¬ê³  ì „ì²´ì ì¸ ê°œë°œ ê³„íšì„ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í• ê²Œ.

ğŸ“Œ 1. ERD ë‹¤ì´ì–´ê·¸ë¨ (ê°œë…ì  ë°ì´í„° ëª¨ë¸)
ë‹¤ìŒê³¼ ê°™ì€ ê´€ê³„ë¥¼ ê°€ì§€ëŠ” ERDë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆì–´.

ğŸ“Œ ERD ê°œìš”

**íšŒì›(Member)**ëŠ” **ë„ì„œë¥¼ ëŒ€ì¶œ(Rent)**í•  ìˆ˜ ìˆìŒ.
**ë„ì„œ(Book)**ëŠ” ì—¬ëŸ¬ íšŒì›ì´ ëŒ€ì¶œí•  ìˆ˜ ìˆìŒ (N:M ê´€ê³„).
ì—°ì²´(Overdue) ë° **ëŒ€ì¶œ ê¸°ë¡(Log)**ì„ ë³„ë„ë¡œ ê´€ë¦¬í•˜ì—¬ ê¸°ë¡ì„ ìœ ì§€.
ê´€ë¦¬ì(Admin)ì™€ ì¼ë°˜ ì‚¬ìš©ì(User)ë¥¼ êµ¬ë¶„í•˜ëŠ” ë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„.
ğŸ“ ê°œë…ì  ëª¨ë¸

scss
ë³µì‚¬
í¸ì§‘
[MEMBER] 1 â”€â”€â”€ N [RENT] N â”€â”€â”€ 1 [BOOK]
   â”‚                        â”‚
   â”‚                        â””â”€â”€â”€ [OVERDUE] (ì—°ì²´ ë‚´ì—­)
   â””â”€â”€â”€ [ADMIN] (ì‚¬ì„œ ê³„ì •)
ğŸ“Œ 2. í…Œì´ë¸” ì •ì˜ì„œ (Schema Definition)
ğŸ“‚ 2-1. íšŒì› í…Œì´ë¸” (MEMBER)
ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	íšŒì› ID (ìë™ ì¦ê°€)
USERNAME	VARCHAR(50)	ë¡œê·¸ì¸ ID
PASSWORD	VARCHAR(255)	ë¹„ë°€ë²ˆí˜¸ (í•´ì‹± ì ìš©)
NAME	VARCHAR(100)	íšŒì› ì´ë¦„
ROLE	ENUM('USER', 'ADMIN')	ì—­í•  (ì¼ë°˜ ì‚¬ìš©ì/ì‚¬ì„œ)
GENDER	ENUM('M','F')	ì„±ë³„
MOBILE	VARCHAR(20)	íœ´ëŒ€í° ë²ˆí˜¸
EMAIL	VARCHAR(100)	ì´ë©”ì¼ ì£¼ì†Œ
REGISTERED	TIMESTAMP	ê°€ì…ì¼
UPDATED	TIMESTAMP	ìˆ˜ì •ì¼
ğŸ“‚ 2-2. ë„ì„œ í…Œì´ë¸” (BOOK)
ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	ë„ì„œ ID (ìë™ ì¦ê°€)
TITLE	VARCHAR(255)	ë„ì„œ ì œëª©
ISBN	VARCHAR(20)	ISBN ë²ˆí˜¸
AUTHOR	VARCHAR(100)	ì €ì
PUBLISHER	VARCHAR(100)	ì¶œíŒì‚¬
ISSUE_YEAR	INT	ì¶œíŒ ì—°ë„
PRICE	DECIMAL(10,2)	ë„ì„œ ê°€ê²©
STOCK	INT	ë³´ìœ  ê¶Œìˆ˜
CREATED	TIMESTAMP	ìƒì„±ì¼
UPDATED	TIMESTAMP	ìˆ˜ì •ì¼
ğŸ“‚ 2-3. ëŒ€ì¶œ í…Œì´ë¸” (RENT)
ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	ëŒ€ì¶œ ID (ìë™ ì¦ê°€)
BOOK_ID	INT (FK)	ë„ì„œ ID (BOOK ì°¸ì¡°)
MEMBER_ID	INT (FK)	íšŒì› ID (MEMBER ì°¸ì¡°)
RENT_DATE	TIMESTAMP	ëŒ€ì¶œì¼
EXPECTED_RETURN	TIMESTAMP	ë°˜ë‚© ì˜ˆì •ì¼ (ëŒ€ì¶œì¼ + 14ì¼)
RETURNED_DATE	TIMESTAMP	ì‹¤ì œ ë°˜ë‚©ì¼ (NULL: ë¯¸ë°˜ë‚©)
EXTENDED_DATE	TIMESTAMP	ì—°ì¥ëœ ë‚ ì§œ (NULLì´ë©´ ì—°ì¥ ì•ˆ í•¨)
STATUS	ENUM('ëŒ€ì¶œì¤‘', 'ë°˜ë‚©ë¨', 'ì—°ì²´')	ëŒ€ì¶œ ìƒíƒœ
ğŸ“Œ ì œì•½ ì¡°ê±´

í•œ íšŒì›ì´ ìµœëŒ€ 5ê¶Œê¹Œì§€ ëŒ€ì¶œ ê°€ëŠ¥í•˜ë„ë¡ ì œì•½ ì„¤ì • í•„ìš”.
ğŸ“‚ 2-4. ì—°ì²´ í…Œì´ë¸” (OVERDUE)
ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	ì—°ì²´ ID (ìë™ ì¦ê°€)
RENT_ID	INT (FK)	ëŒ€ì¶œ ID (RENT ì°¸ì¡°)
MEMBER_ID	INT (FK)	íšŒì› ID (MEMBER ì°¸ì¡°)
OVERDUE_DAYS	INT	ì—°ì²´ ì¼ìˆ˜
FINE_AMOUNT	DECIMAL(10,2)	ì—°ì²´ë£Œ (1ì¼ë‹¹ 500ì›)
PAID_STATUS	ENUM('ë¯¸ë‚©', 'ì™„ë‚©')	ì—°ì²´ë£Œ ë‚©ë¶€ ìƒíƒœ
ğŸ“Œ ì—°ì²´ë£Œ ê³„ì‚°

FINE_AMOUNT = OVERDUE_DAYS * 500
ë°˜ë‚© ì‹œ ì—°ì²´ ë‚´ì—­ ìë™ ì—…ë°ì´íŠ¸.
ğŸ“‚ 2-5. ëŒ€ì¶œ/ë°˜ë‚© ë¡œê·¸ í…Œì´ë¸” (RENT_LOG)
ì»¬ëŸ¼ëª…	íƒ€ì…	ì„¤ëª…
ID	INT (PK)	ë¡œê·¸ ID (ìë™ ì¦ê°€)
RENT_ID	INT (FK)	ëŒ€ì¶œ ID (RENT ì°¸ì¡°)
MEMBER_ID	INT (FK)	íšŒì› ID (MEMBER ì°¸ì¡°)
BOOK_ID	INT (FK)	ë„ì„œ ID (BOOK ì°¸ì¡°)
ACTION	ENUM('ëŒ€ì¶œ', 'ë°˜ë‚©', 'ì—°ì¥')	ìˆ˜í–‰ëœ ì‘ì—…
TIMESTAMP	TIMESTAMP	ìˆ˜í–‰ëœ ì‹œê°„
ğŸ“Œ 3. ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ
âœ… í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
ğŸ“ ë¡œê·¸ì¸ ì‹œìŠ¤í…œ
 íšŒì› ê°€ì… (ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ì ìš©)
 ë¡œê·¸ì¸ (ID/PW ì…ë ¥ í›„ ì¸ì¦)
 ê´€ë¦¬ì(Admin) / ì¼ë°˜ ì‚¬ìš©ì(User) ê¶Œí•œ êµ¬ë¶„
ê´€ë¦¬ì: ëª¨ë“  ë„ì„œ ë° íšŒì› ì •ë³´ ê´€ë¦¬ ê°€ëŠ¥
ì‚¬ìš©ì: ë³¸ì¸ ì •ë³´ë§Œ ìˆ˜ì • ê°€ëŠ¥
ğŸ“ ë„ì„œ ê´€ë¦¬
 ë„ì„œ ë“±ë¡ (C)
 ë„ì„œ ê²€ìƒ‰ (R) - ì œëª©, ì €ì ê²€ìƒ‰
 ë„ì„œ ì •ë³´ ìˆ˜ì • (U)
 ë„ì„œ ì‚­ì œ (D)
ğŸ“ íšŒì› ê´€ë¦¬
 íšŒì› ê°€ì… (C)
 íšŒì› ê²€ìƒ‰ (R) - ê´€ë¦¬ìë§Œ ì „ì²´ ëª©ë¡ ì¡°íšŒ ê°€ëŠ¥
 íšŒì› ì •ë³´ ìˆ˜ì • (U) - ë³¸ì¸ ì •ë³´ë§Œ ìˆ˜ì • ê°€ëŠ¥
 íšŒì› íƒˆí‡´ (D)
ğŸ“ ëŒ€ì¶œ ê´€ë¦¬
 ëŒ€ì¶œ (C) - í•œ íšŒì›ë‹¹ ìµœëŒ€ 5ê¶Œ ì œí•œ
 ë°˜ë‚© (U)
 ëŒ€ì¶œ ì—°ì¥ (U)
 ëŒ€ì¶œ ë‚´ì—­ ì¡°íšŒ (R)
í˜„ì¬ ëŒ€ì¶œ ì¤‘ì¸ ì±… ì¡°íšŒ
ë°˜ë‚© ì™„ë£Œ ë‚´ì—­ ì¡°íšŒ
ì—°ì²´ ë‚´ì—­ ì¡°íšŒ
ğŸ“ ì—°ì²´ ê´€ë¦¬
 ì—°ì²´ ë°œìƒ ì‹œ ìë™ ê¸°ë¡
 ì—°ì²´ë£Œ ë¶€ê³¼ (500ì›/ì¼)
 ì—°ì²´ë£Œ ë‚©ë¶€ ìƒíƒœ ì—…ë°ì´íŠ¸
ğŸ“ ëŒ€ì¶œ/ë°˜ë‚© ë¡œê·¸ ê´€ë¦¬
 ëŒ€ì¶œ, ë°˜ë‚©, ì—°ì¥ ë‚´ì—­ ê¸°ë¡
 ë¡œê·¸ ì¡°íšŒ ê¸°ëŠ¥ ì œê³µ
ğŸ“Œ 4. ê°œë°œ ê³„íš
ë‹¨ê³„	ì„¸ë¶€ ë‚´ìš©	ì„¤ëª…
1ë‹¨ê³„	í™˜ê²½ ì„¤ì •	Java + Eclipse + MySQL
2ë‹¨ê³„	ERD ì„¤ê³„	MySQL í…Œì´ë¸” ì •ì˜
3ë‹¨ê³„	ë¡œê·¸ì¸ ì‹œìŠ¤í…œ	íšŒì› ê°€ì…, ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„
4ë‹¨ê³„	CRUD êµ¬í˜„	ë„ì„œ ë° íšŒì› ê´€ë¦¬ ê¸°ëŠ¥
5ë‹¨ê³„	ëŒ€ì¶œ/ë°˜ë‚© ê¸°ëŠ¥	ëŒ€ì¶œ, ë°˜ë‚©, ì—°ì²´ ì²˜ë¦¬ ê¸°ëŠ¥
6ë‹¨ê³„	ë¡œê·¸ ê¸°ë¡	ëŒ€ì¶œ ë° ë°˜ë‚© ë¡œê·¸ ì‹œìŠ¤í…œ êµ¬í˜„
7ë‹¨ê³„	í…ŒìŠ¤íŠ¸	ë°ì´í„° ì…ë ¥ ë° ê²€ì¦
8ë‹¨ê³„	ë¬¸ì„œí™”	README.md ì‘ì„± ë° GitHub ë“±ë¡
ì´ì œ ë‹¤ìŒ ë‹¨ê³„ë¡œ **SQL í…Œì´ë¸” ìƒì„± ìŠ¤í¬ë¦½íŠ¸ì™€ Java ê°œë°œ êµ¬ì¡° (DAO, Service, Controller ì„¤ê³„)**ë¥¼ ë§Œë“¤ì–´ì¤„ê²Œ. ì¤€ë¹„ë˜ì—ˆìœ¼ë©´ ë§í•´ì¤˜! ğŸš€







ë‚˜ì˜ ë§:
ì¤€ë¹„ëì–´
ChatGPTì˜ ë§:
ì¢‹ì•„! ì´ì œ SQL í…Œì´ë¸” ìƒì„± ìŠ¤í¬ë¦½íŠ¸ì™€ **Java ê°œë°œ êµ¬ì¡° (DAO, Service, Controller ì„¤ê³„)**ë¥¼ ì§„í–‰í• ê²Œ.

ğŸ“Œ 1. MySQL í…Œì´ë¸” ìƒì„± ìŠ¤í¬ë¦½íŠ¸
ë‹¤ìŒì€ MySQLì—ì„œ ì‚¬ìš©í•  í…Œì´ë¸” ìƒì„± SQL ìŠ¤í¬ë¦½íŠ¸ì•¼.

ğŸ“‚ 1-1. íšŒì› í…Œì´ë¸” (MEMBER)
sql
ë³µì‚¬
í¸ì§‘
CREATE TABLE MEMBER (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    USERNAME VARCHAR(50) NOT NULL UNIQUE,
    PASSWORD VARCHAR(255) NOT NULL,
    NAME VARCHAR(100) NOT NULL,
    ROLE ENUM('USER', 'ADMIN') NOT NULL DEFAULT 'USER',
    GENDER ENUM('M','F'),
    MOBILE VARCHAR(20) UNIQUE,
    EMAIL VARCHAR(100) UNIQUE,
    REGISTERED TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
ğŸ“Œ ì„¤ëª…:

USERNAMEì„ ê¸°ì¤€ìœ¼ë¡œ ë¡œê·¸ì¸ IDë¥¼ ê´€ë¦¬.
PASSWORDëŠ” í•´ì‹± ì ìš© í•„ìš”.
ROLEì„ ì‚¬ìš©í•´ ê´€ë¦¬ì(ADMIN)ì™€ ì¼ë°˜ íšŒì›(USER) êµ¬ë¶„.
ğŸ“‚ 1-2. ë„ì„œ í…Œì´ë¸” (BOOK)
sql
ë³µì‚¬
í¸ì§‘
CREATE TABLE BOOK (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    TITLE VARCHAR(255) NOT NULL,
    ISBN VARCHAR(20) NOT NULL UNIQUE,
    AUTHOR VARCHAR(100) NOT NULL,
    PUBLISHER VARCHAR(100),
    ISSUE_YEAR INT,
    PRICE DECIMAL(10,2),
    STOCK INT NOT NULL DEFAULT 1,
    CREATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
ğŸ“Œ ì„¤ëª…:

ISBNì„ ê¸°ì¤€ìœ¼ë¡œ ì¤‘ë³µ ë“±ë¡ ë°©ì§€.
STOCKì„ í†µí•´ ë„ì„œì˜ ì´ ë³´ìœ  ê¶Œìˆ˜ ê´€ë¦¬.
ğŸ“‚ 1-3. ëŒ€ì¶œ í…Œì´ë¸” (RENT)
sql
ë³µì‚¬
í¸ì§‘
CREATE TABLE RENT (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    BOOK_ID INT NOT NULL,
    MEMBER_ID INT NOT NULL,
    RENT_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    EXPECTED_RETURN TIMESTAMP GENERATED ALWAYS AS (RENT_DATE + INTERVAL 14 DAY) STORED,
    RETURNED_DATE TIMESTAMP NULL,
    EXTENDED_DATE TIMESTAMP NULL,
    STATUS ENUM('ëŒ€ì¶œì¤‘', 'ë°˜ë‚©ë¨', 'ì—°ì²´') NOT NULL DEFAULT 'ëŒ€ì¶œì¤‘',
    FOREIGN KEY (BOOK_ID) REFERENCES BOOK(ID) ON DELETE CASCADE,
    FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(ID) ON DELETE CASCADE
);
ğŸ“Œ ì„¤ëª…:

EXPECTED_RETURNì€ ìë™ìœ¼ë¡œ 14ì¼ ë’¤ ê³„ì‚°.
STATUSëŠ” ëŒ€ì¶œì¤‘, ë°˜ë‚©ë¨, ì—°ì²´ ì„¸ ê°€ì§€ ìƒíƒœ.
ë°˜ë‚© ì‹œ RETURNED_DATEê°€ ê¸°ë¡ë¨.
ğŸ“‚ 1-4. ì—°ì²´ í…Œì´ë¸” (OVERDUE)
sql
ë³µì‚¬
í¸ì§‘
CREATE TABLE OVERDUE (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    RENT_ID INT NOT NULL,
    MEMBER_ID INT NOT NULL,
    OVERDUE_DAYS INT GENERATED ALWAYS AS (DATEDIFF(CURRENT_DATE, EXPECTED_RETURN)) STORED,
    FINE_AMOUNT DECIMAL(10,2) GENERATED ALWAYS AS (OVERDUE_DAYS * 500) STORED,
    PAID_STATUS ENUM('ë¯¸ë‚©', 'ì™„ë‚©') NOT NULL DEFAULT 'ë¯¸ë‚©',
    FOREIGN KEY (RENT_ID) REFERENCES RENT(ID) ON DELETE CASCADE,
    FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(ID) ON DELETE CASCADE
);
ğŸ“Œ ì„¤ëª…:

OVERDUE_DAYSëŠ” EXPECTED_RETURNê³¼ í˜„ì¬ ë‚ ì§œ ì°¨ì´ ê³„ì‚°.
FINE_AMOUNTëŠ” í•˜ë£¨ 500ì›ì”© ìë™ ê³„ì‚°.
PAID_STATUSëŠ” ì—°ì²´ë£Œ ë‚©ë¶€ ì—¬ë¶€.
ğŸ“‚ 1-5. ëŒ€ì¶œ/ë°˜ë‚© ë¡œê·¸ í…Œì´ë¸” (RENT_LOG)
sql
ë³µì‚¬
í¸ì§‘
CREATE TABLE RENT_LOG (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    RENT_ID INT NOT NULL,
    MEMBER_ID INT NOT NULL,
    BOOK_ID INT NOT NULL,
    ACTION ENUM('ëŒ€ì¶œ', 'ë°˜ë‚©', 'ì—°ì¥') NOT NULL,
    TIMESTAMP TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (RENT_ID) REFERENCES RENT(ID) ON DELETE CASCADE,
    FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(ID) ON DELETE CASCADE,
    FOREIGN KEY (BOOK_ID) REFERENCES BOOK(ID) ON DELETE CASCADE
);
ğŸ“Œ ì„¤ëª…:

ACTIONì„ í†µí•´ ëŒ€ì¶œ/ë°˜ë‚©/ì—°ì¥ ê¸°ë¡ ê´€ë¦¬.
ğŸ“Œ 2. Java ê°œë°œ êµ¬ì¡° ì„¤ê³„
ğŸ”¹ ê¸°ë³¸ì ì¸ MVC íŒ¨í„´ ì ìš©
scss
ë³µì‚¬
í¸ì§‘
ğŸ“‚ src
 â”œâ”€â”€ ğŸ“‚ dao       (DB ì—°ê²° ë° CRUD ë‹´ë‹¹)
 â”œâ”€â”€ ğŸ“‚ service   (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë‹´ë‹¹)
 â”œâ”€â”€ ğŸ“‚ controller (ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬)
 â”œâ”€â”€ ğŸ“‚ model     (VO/DTO ê°ì²´)
 â”œâ”€â”€ ğŸ“‚ util      (DB ì—°ê²°, ì•”í˜¸í™”)
 â”œâ”€â”€ Main.java    (ë©”ì¸ ì‹¤í–‰ íŒŒì¼)
ğŸ“Œ 3. Java DAO í´ë˜ìŠ¤ ì„¤ê³„
ğŸ“‚ MemberDAO.java (íšŒì› ê´€ë¦¬)
java
ë³µì‚¬
í¸ì§‘
package dao;
import model.Member;
import util.DBConnection;
import java.sql.*;

public class MemberDAO {
    public boolean registerMember(Member member) {
        String query = "INSERT INTO MEMBER (USERNAME, PASSWORD, NAME, ROLE, GENDER, MOBILE, EMAIL) VALUES (?, ?, ?, ?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, member.getUsername());
            pstmt.setString(2, member.getPassword()); // ë¹„ë°€ë²ˆí˜¸ í•´ì‹± í•„ìš”
            pstmt.setString(3, member.getName());
            pstmt.setString(4, member.getRole());
            pstmt.setString(5, member.getGender());
            pstmt.setString(6, member.getMobile());
            pstmt.setString(7, member.getEmail());
            return pstmt.executeUpdate() > 0;
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }
    
    public Member login(String username, String password) {
        String query = "SELECT * FROM MEMBER WHERE USERNAME = ? AND PASSWORD = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, username);
            pstmt.setString(2, password); // í•´ì‹±ëœ ë¹„ë°€ë²ˆí˜¸ ë¹„êµ í•„ìš”
            ResultSet rs = pstmt.executeQuery();
            if (rs.next()) {
                return new Member(rs.getInt("ID"), rs.getString("USERNAME"), rs.getString("ROLE"));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return null;
    }
}
ğŸ“Œ ì„¤ëª…:

registerMember(): íšŒì›ê°€ì… ê¸°ëŠ¥ êµ¬í˜„.
login(): ë¡œê·¸ì¸ ì‹œ ID/PW ê²€ì¦ í›„ ROLE ë°˜í™˜.
ğŸ“Œ 4. ê°œë°œ ì§„í–‰ ê³„íš
ë‹¨ê³„	ì‘ì—… ë‚´ìš©
1ë‹¨ê³„	MySQL í…Œì´ë¸” ìƒì„± ë° ERD í™•ì •
2ë‹¨ê³„	Java í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¸íŒ…
3ë‹¨ê³„	DB ì—°ê²° í´ë˜ìŠ¤ ë° DAO êµ¬í˜„
4ë‹¨ê³„	íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ ê¸°ëŠ¥ ê°œë°œ
5ë‹¨ê³„	ë„ì„œ ë“±ë¡ ë° ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
6ë‹¨ê³„	ëŒ€ì¶œ/ë°˜ë‚© ê¸°ëŠ¥ êµ¬í˜„
7ë‹¨ê³„	ì—°ì²´ë£Œ ê³„ì‚° ë° ë¡œê·¸ ê¸°ë¡ ì¶”ê°€
8ë‹¨ê³„	ì½˜ì†” UI ê°œì„  ë° í…ŒìŠ¤íŠ¸
ì´ì œ DB ì—°ê²° í´ë˜ìŠ¤ (DBConnection.java) ë° ë„ì„œ ê´€ë¦¬ DAO(BookDAO.java) ì½”ë“œë¥¼ ì¶”ê°€ë¡œ ì‘ì„±í•´ë³¼ê¹Œ? ğŸš€







ë‚˜ì˜ ë§:
ì‘ ì‘ì„±í•´ì¤˜
ChatGPTì˜ ë§:
ì¢‹ì•„! ì´ì œ DB ì—°ê²° í´ë˜ìŠ¤ (DBConnection.java) ë° ë„ì„œ ê´€ë¦¬ DAO (BookDAO.java) ì½”ë“œë¥¼ ì‘ì„±í• ê²Œ.

ğŸ“Œ 1. DB ì—°ê²° í´ë˜ìŠ¤ (DBConnection.java)
ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ê²°ì„ ê´€ë¦¬í•˜ëŠ” ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì¤„ê²Œ.

ğŸ“‚ util/DBConnection.java
java
ë³µì‚¬
í¸ì§‘
package util;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class DBConnection {
    private static final String URL = "jdbc:mysql://localhost:3306/library_db"; // ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ í™•ì¸
    private static final String USER = "root"; // MySQL ì‚¬ìš©ì ì´ë¦„
    private static final String PASSWORD = "yourpassword"; // MySQL ë¹„ë°€ë²ˆí˜¸

    // ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë©”ì„œë“œ
    public static Connection getConnection() {
        Connection conn = null;
        try {
            Class.forName("com.mysql.cj.jdbc.Driver"); // MySQL ë“œë¼ì´ë²„ ë¡œë“œ
            conn = DriverManager.getConnection(URL, USER, PASSWORD);
        } catch (ClassNotFoundException | SQLException e) {
            e.printStackTrace();
        }
        return conn;
    }

    // ì—°ê²° í•´ì œ ë©”ì„œë“œ
    public static void closeConnection(Connection conn) {
        try {
            if (conn != null && !conn.isClosed()) {
                conn.close();
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
ğŸ“Œ ì„¤ëª…:

MySQLê³¼ ì—°ê²°í•˜ëŠ” getConnection() ë©”ì„œë“œ í¬í•¨.
closeConnection()ìœ¼ë¡œ ì—°ê²°ì„ ë‹«ì•„ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬.
ğŸ“Œ 2. ë„ì„œ ê´€ë¦¬ DAO (BookDAO.java)
ë„ì„œ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” DAO í´ë˜ìŠ¤ë¥¼ ì‘ì„±í• ê²Œ.

ğŸ“‚ dao/BookDAO.java
java
ë³µì‚¬
í¸ì§‘
package dao;
import model.Book;
import util.DBConnection;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class BookDAO {

    // ë„ì„œ ë“±ë¡ (Create)
    public boolean addBook(Book book) {
        String query = "INSERT INTO BOOK (TITLE, ISBN, AUTHOR, PUBLISHER, ISSUE_YEAR, PRICE, STOCK) VALUES (?, ?, ?, ?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, book.getTitle());
            pstmt.setString(2, book.getIsbn());
            pstmt.setString(3, book.getAuthor());
            pstmt.setString(4, book.getPublisher());
            pstmt.setInt(5, book.getIssueYear());
            pstmt.setDouble(6, book.getPrice());
            pstmt.setInt(7, book.getStock());
            return pstmt.executeUpdate() > 0;
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }

    // ë„ì„œ ëª©ë¡ ì¡°íšŒ (Read)
    public List<Book> getAllBooks() {
        List<Book> books = new ArrayList<>();
        String query = "SELECT * FROM BOOK";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query);
             ResultSet rs = pstmt.executeQuery()) {
            while (rs.next()) {
                books.add(new Book(
                        rs.getInt("ID"),
                        rs.getString("TITLE"),
                        rs.getString("ISBN"),
                        rs.getString("AUTHOR"),
                        rs.getString("PUBLISHER"),
                        rs.getInt("ISSUE_YEAR"),
                        rs.getDouble("PRICE"),
                        rs.getInt("STOCK")
                ));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return books;
    }

    // íŠ¹ì • ë„ì„œ ê²€ìƒ‰ (ì œëª© ë˜ëŠ” ì €ìë¡œ ê²€ìƒ‰)
    public List<Book> searchBooks(String keyword) {
        List<Book> books = new ArrayList<>();
        String query = "SELECT * FROM BOOK WHERE TITLE LIKE ? OR AUTHOR LIKE ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, "%" + keyword + "%");
            pstmt.setString(2, "%" + keyword + "%");
            ResultSet rs = pstmt.executeQuery();
            while (rs.next()) {
                books.add(new Book(
                        rs.getInt("ID"),
                        rs.getString("TITLE"),
                        rs.getString("ISBN"),
                        rs.getString("AUTHOR"),
                        rs.getString("PUBLISHER"),
                        rs.getInt("ISSUE_YEAR"),
                        rs.getDouble("PRICE"),
                        rs.getInt("STOCK")
                ));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return books;
    }

    // ë„ì„œ ì •ë³´ ìˆ˜ì • (Update)
    public boolean updateBook(Book book) {
        String query = "UPDATE BOOK SET TITLE=?, AUTHOR=?, PUBLISHER=?, ISSUE_YEAR=?, PRICE=?, STOCK=? WHERE ISBN=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, book.getTitle());
            pstmt.setString(2, book.getAuthor());
            pstmt.setString(3, book.getPublisher());
            pstmt.setInt(4, book.getIssueYear());
            pstmt.setDouble(5, book.getPrice());
            pstmt.setInt(6, book.getStock());
            pstmt.setString(7, book.getIsbn());
            return pstmt.executeUpdate() > 0;
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }

    // ë„ì„œ ì‚­ì œ (Delete)
    public boolean deleteBook(String isbn) {
        String query = "DELETE FROM BOOK WHERE ISBN=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, isbn);
            return pstmt.executeUpdate() > 0;
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }
}
ğŸ“Œ ì„¤ëª…:

addBook(): ë„ì„œ ì¶”ê°€
getAllBooks(): ëª¨ë“  ë„ì„œ ì¡°íšŒ
searchBooks(): ì œëª© ë˜ëŠ” ì €ìë¡œ ê²€ìƒ‰
updateBook(): ë„ì„œ ì •ë³´ ìˆ˜ì •
deleteBook(): ë„ì„œ ì‚­ì œ
ğŸ“Œ 3. ë„ì„œ ê°ì²´ ëª¨ë¸ (Book.java)
ğŸ“‚ model/Book.java
java
ë³µì‚¬
í¸ì§‘
package model;

public class Book {
    private int id;
    private String title;
    private String isbn;
    private String author;
    private String publisher;
    private int issueYear;
    private double price;
    private int stock;

    public Book(int id, String title, String isbn, String author, String publisher, int issueYear, double price, int stock) {
        this.id = id;
        this.title = title;
        this.isbn = isbn;
        this.author = author;
        this.publisher = publisher;
        this.issueYear = issueYear;
        this.price = price;
        this.stock = stock;
    }

    // Getters and Setters
    public int getId() { return id; }
    public String getTitle() { return title; }
    public String getIsbn() { return isbn; }
    public String getAuthor() { return author; }
    public String getPublisher() { return publisher; }
    public int getIssueYear() { return issueYear; }
    public double getPrice() { return price; }
    public int getStock() { return stock; }

    public void setId(int id) { this.id = id; }
    public void setTitle(String title) { this.title = title; }
    public void setIsbn(String isbn) { this.isbn = isbn; }
    public void setAuthor(String author) { this.author = author; }
    public void setPublisher(String publisher) { this.publisher = publisher; }
    public void setIssueYear(int issueYear) { this.issueYear = issueYear; }
    public void setPrice(double price) { this.price = price; }
    public void setStock(int stock) { this.stock = stock; }
}
ğŸ“Œ ì„¤ëª…:

Book ê°ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ëª¨ë¸ í´ë˜ìŠ¤.
ì´ì œ ëŒ€ì¶œ ê´€ë¦¬ DAO (RentDAO.java) ë° ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì¤„ê¹Œ? ğŸš€







ë‚˜ì˜ ë§:
ì‘
ChatGPTì˜ ë§:
ì¢‹ì•„! ì´ì œ ëŒ€ì¶œ ê´€ë¦¬ DAO (RentDAO.java) ë° **ëŒ€ì¶œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ (RentService.java)**ë¥¼ ì‘ì„±í• ê²Œ.

ğŸ“Œ 1. ëŒ€ì¶œ ê´€ë¦¬ DAO (RentDAO.java)
ğŸ“‚ dao/RentDAO.java
java
ë³µì‚¬
í¸ì§‘
package dao;
import model.Rent;
import util.DBConnection;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class RentDAO {

    // ë„ì„œ ëŒ€ì¶œ (Create)
    public boolean rentBook(int bookId, int memberId) {
        String checkQuery = "SELECT COUNT(*) FROM RENT WHERE MEMBER_ID = ? AND STATUS = 'ëŒ€ì¶œì¤‘'";
        String insertQuery = "INSERT INTO RENT (BOOK_ID, MEMBER_ID, RENT_DATE, STATUS) VALUES (?, ?, CURRENT_TIMESTAMP, 'ëŒ€ì¶œì¤‘')";
        String updateStockQuery = "UPDATE BOOK SET STOCK = STOCK - 1 WHERE ID = ? AND STOCK > 0";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement checkStmt = conn.prepareStatement(checkQuery);
             PreparedStatement insertStmt = conn.prepareStatement(insertQuery);
             PreparedStatement updateStockStmt = conn.prepareStatement(updateStockQuery)) {

            // íšŒì›ì´ ëŒ€ì¶œ ì¤‘ì¸ ì±… ê°œìˆ˜ í™•ì¸ (ìµœëŒ€ 5ê¶Œ)
            checkStmt.setInt(1, memberId);
            ResultSet rs = checkStmt.executeQuery();
            if (rs.next() && rs.getInt(1) >= 5) {
                System.out.println("ëŒ€ì¶œ ê°€ëŠ¥í•œ ìµœëŒ€ ê¶Œìˆ˜ë¥¼ ì´ˆê³¼í•˜ì˜€ìŠµë‹ˆë‹¤.");
                return false;
            }

            // ë„ì„œ ëŒ€ì¶œ ì²˜ë¦¬
            insertStmt.setInt(1, bookId);
            insertStmt.setInt(2, memberId);
            if (insertStmt.executeUpdate() > 0) {
                // ë„ì„œ ë³´ìœ  ìˆ˜ëŸ‰ ê°ì†Œ
                updateStockStmt.setInt(1, bookId);
                updateStockStmt.executeUpdate();
                return true;
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return false;
    }

    // ëŒ€ì¶œ ë‚´ì—­ ì¡°íšŒ (Read)
    public List<Rent> getRentHistory(int memberId) {
        List<Rent> rentList = new ArrayList<>();
        String query = "SELECT * FROM RENT WHERE MEMBER_ID = ?";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setInt(1, memberId);
            ResultSet rs = pstmt.executeQuery();
            while (rs.next()) {
                rentList.add(new Rent(
                        rs.getInt("ID"),
                        rs.getInt("BOOK_ID"),
                        rs.getInt("MEMBER_ID"),
                        rs.getTimestamp("RENT_DATE"),
                        rs.getTimestamp("EXPECTED_RETURN"),
                        rs.getTimestamp("RETURNED_DATE"),
                        rs.getTimestamp("EXTENDED_DATE"),
                        rs.getString("STATUS")
                ));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return rentList;
    }

    // ë„ì„œ ë°˜ë‚© (Update)
    public boolean returnBook(int rentId) {
        String updateRentQuery = "UPDATE RENT SET RETURNED_DATE = CURRENT_TIMESTAMP, STATUS = 'ë°˜ë‚©ë¨' WHERE ID = ?";
        String updateStockQuery = "UPDATE BOOK SET STOCK = STOCK + 1 WHERE ID = (SELECT BOOK_ID FROM RENT WHERE ID = ?)";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement updateRentStmt = conn.prepareStatement(updateRentQuery);
             PreparedStatement updateStockStmt = conn.prepareStatement(updateStockQuery)) {

            updateRentStmt.setInt(1, rentId);
            if (updateRentStmt.executeUpdate() > 0) {
                updateStockStmt.setInt(1, rentId);
                updateStockStmt.executeUpdate();
                return true;
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return false;
    }

    // ëŒ€ì¶œ ì—°ì¥ (Update)
    public boolean extendRent(int rentId) {
        String updateQuery = "UPDATE RENT SET EXTENDED_DATE = CURRENT_TIMESTAMP, EXPECTED_RETURN = EXPECTED_RETURN + INTERVAL 14 DAY WHERE ID = ? AND EXTENDED_DATE IS NULL";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(updateQuery)) {
            pstmt.setInt(1, rentId);
            return pstmt.executeUpdate() > 0;
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return false;
    }

    // ì—°ì²´ ì—¬ë¶€ í™•ì¸ (Read)
    public boolean checkOverdue(int rentId) {
        String query = "SELECT EXPECTED_RETURN FROM RENT WHERE ID = ? AND STATUS = 'ëŒ€ì¶œì¤‘'";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setInt(1, rentId);
            ResultSet rs = pstmt.executeQuery();
            if (rs.next()) {
                Timestamp expectedReturn = rs.getTimestamp("EXPECTED_RETURN");
                return expectedReturn.before(new Timestamp(System.currentTimeMillis()));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return false;
    }
}
ğŸ“Œ ì„¤ëª…:

rentBook(): ëŒ€ì¶œ ê¸°ëŠ¥ (ìµœëŒ€ 5ê¶Œê¹Œì§€ ì œí•œ).
getRentHistory(): íŠ¹ì • íšŒì›ì˜ ëŒ€ì¶œ ë‚´ì—­ ì¡°íšŒ.
returnBook(): ë°˜ë‚© ì‹œ RETURNED_DATE ì„¤ì • ë° STOCK ì¦ê°€.
extendRent(): ì—°ì¥ ê¸°ëŠ¥ (EXPECTED_RETURN + 14ì¼).
checkOverdue(): ì—°ì²´ ì—¬ë¶€ í™•ì¸.
ğŸ“Œ 2. ëŒ€ì¶œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ (RentService.java)
ğŸ“‚ service/RentService.java
java
ë³µì‚¬
í¸ì§‘
package service;
import dao.RentDAO;
import java.util.Scanner;

public class RentService {
    private RentDAO rentDAO = new RentDAO();
    private Scanner scanner = new Scanner(System.in);

    // ë„ì„œ ëŒ€ì¶œ ê¸°ëŠ¥
    public void rentBook(int memberId) {
        System.out.print("ëŒ€ì¶œí•  ë„ì„œ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”: ");
        int bookId = scanner.nextInt();

        if (rentDAO.rentBook(bookId, memberId)) {
            System.out.println("ë„ì„œê°€ ì„±ê³µì ìœ¼ë¡œ ëŒ€ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.");
        } else {
            System.out.println("ëŒ€ì¶œì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.");
        }
    }

    // ëŒ€ì¶œ ë‚´ì—­ ì¡°íšŒ
    public void viewRentHistory(int memberId) {
        rentDAO.getRentHistory(memberId).forEach(rent -> {
            System.out.println("ëŒ€ì¶œ ID: " + rent.getId() +
                    ", ë„ì„œ ID: " + rent.getBookId() +
                    ", ëŒ€ì¶œì¼: " + rent.getRentDate() +
                    ", ë°˜ë‚© ì˜ˆì •ì¼: " + rent.getExpectedReturn() +
                    ", ìƒíƒœ: " + rent.getStatus());
        });
    }

    // ë°˜ë‚© ê¸°ëŠ¥
    public void returnBook() {
        System.out.print("ë°˜ë‚©í•  ëŒ€ì¶œ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”: ");
        int rentId = scanner.nextInt();

        if (rentDAO.returnBook(rentId)) {
            System.out.println("ë„ì„œê°€ ì„±ê³µì ìœ¼ë¡œ ë°˜ë‚©ë˜ì—ˆìŠµë‹ˆë‹¤.");
        } else {
            System.out.println("ë°˜ë‚©ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.");
        }
    }

    // ëŒ€ì¶œ ì—°ì¥ ê¸°ëŠ¥
    public void extendRent() {
        System.out.print("ì—°ì¥í•  ëŒ€ì¶œ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”: ");
        int rentId = scanner.nextInt();

        if (rentDAO.extendRent(rentId)) {
            System.out.println("ëŒ€ì¶œì´ ì—°ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
        } else {
            System.out.println("ì—°ì¥ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.");
        }
    }
}
ğŸ“Œ ì„¤ëª…:

rentBook(): ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ ëŒ€ì¶œ ì§„í–‰.
viewRentHistory(): ëŒ€ì¶œ ë‚´ì—­ ì¡°íšŒ.
returnBook(): ë°˜ë‚© ê¸°ëŠ¥ ìˆ˜í–‰.
extendRent(): ì—°ì¥ ê¸°ëŠ¥ ìˆ˜í–‰.
ğŸ“Œ 3. ë‹¤ìŒ ë‹¨ê³„
âœ… ì™„ë£Œí•œ ë¶€ë¶„

DB í…Œì´ë¸” ìƒì„± SQL
DB ì—°ê²° í´ë˜ìŠ¤
ë„ì„œ ê´€ë¦¬ DAO
ëŒ€ì¶œ ê´€ë¦¬ DAO
ëŒ€ì¶œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤
ğŸš€ ë‹¤ìŒìœ¼ë¡œ í•  ì¼

íšŒì› ê´€ë¦¬ DAO (MemberDAO.java)
íšŒì› ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ (MemberService.java)
ë©”ì¸ ì‹¤í–‰ íŒŒì¼ (Main.java)
ë¡œê·¸ì¸ ë° ê¶Œí•œ ë¶„ë¦¬ ì ìš©
ì´ì œ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ (ê°€ì…, ë¡œê·¸ì¸, ê¶Œí•œ ê´€ë¦¬) ë° Main.javaë¥¼ êµ¬í˜„í• ê¹Œ? ğŸ˜Š







ë‚˜ì˜ ë§:
ì‘
ChatGPTì˜ ë§:
ì¢‹ì•„! ì´ì œ íšŒì› ê´€ë¦¬ DAO (MemberDAO.java), íšŒì› ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ (MemberService.java), ê·¸ë¦¬ê³  **ë©”ì¸ ì‹¤í–‰ íŒŒì¼ (Main.java)**ì„ êµ¬í˜„í• ê²Œ.

ğŸ“Œ 1. íšŒì› ê´€ë¦¬ DAO (MemberDAO.java)
ğŸ“‚ dao/MemberDAO.java
java
ë³µì‚¬
í¸ì§‘
package dao;
import model.Member;
import util.DBConnection;
import java.sql.*;

public class MemberDAO {

    // íšŒì› ê°€ì… (Create)
    public boolean registerMember(Member member) {
        String query = "INSERT INTO MEMBER (USERNAME, PASSWORD, NAME, ROLE, GENDER, MOBILE, EMAIL) VALUES (?, ?, ?, ?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, member.getUsername());
            pstmt.setString(2, member.getPassword()); // ë¹„ë°€ë²ˆí˜¸ëŠ” í•´ì‹± í›„ ì €ì¥ í•„ìš”
            pstmt.setString(3, member.getName());
            pstmt.setString(4, member.getRole());
            pstmt.setString(5, member.getGender());
            pstmt.setString(6, member.getMobile());
            pstmt.setString(7, member.getEmail());
            return pstmt.executeUpdate() > 0;
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }

    // ë¡œê·¸ì¸ ê¸°ëŠ¥ (Read)
    public Member login(String username, String password) {
        String query = "SELECT * FROM MEMBER WHERE USERNAME = ? AND PASSWORD = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query)) {
            pstmt.setString(1, username);
            pstmt.setString(2, password); // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” í•´ì‹±ëœ ë¹„ë°€ë²ˆí˜¸ ë¹„êµ í•„ìš”
            ResultSet rs = pstmt.executeQuery();
            if (rs.next()) {
                return new Member(
                        rs.getInt("ID"),
                        rs.getString("USERNAME"),
                        rs.getString("NAME"),
                        rs.getString("ROLE"),
                        rs.getString("EMAIL")
                );
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return null;
    }

    // íšŒì› ì •ë³´ ì¡°íšŒ (ê´€ë¦¬ììš©)
    public void viewAllMembers() {
        String query = "SELECT ID, USERNAME, NAME, ROLE, EMAIL FROM MEMBER";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query);
             ResultSet rs = pstmt.executeQuery()) {
            while (rs.next()) {
                System.out.println("ID: " + rs.getInt("ID") +
                        ", USERNAME: " + rs.getString("USERNAME") +
                        ", NAME: " + rs.getString("NAME") +
                        ", ROLE: " + rs.getString("ROLE") +
                        ", EMAIL: " + rs.getString("EMAIL"));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
ğŸ“Œ ì„¤ëª…:

registerMember(): íšŒì› ê°€ì… ì²˜ë¦¬.
login(): ë¡œê·¸ì¸ í›„ Member ê°ì²´ ë°˜í™˜.
viewAllMembers(): ê´€ë¦¬ì(admin)ìš© ì „ì²´ íšŒì› ì¡°íšŒ.
ğŸ“Œ 2. íšŒì› ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ (MemberService.java)
ğŸ“‚ service/MemberService.java
java
ë³µì‚¬
í¸ì§‘
package service;
import dao.MemberDAO;
import model.Member;
import java.util.Scanner;

public class MemberService {
    private MemberDAO memberDAO = new MemberDAO();
    private Scanner scanner = new Scanner(System.in);

    // íšŒì› ê°€ì…
    public void register() {
        System.out.print("ì‚¬ìš©í•  ì‚¬ìš©ìëª…ì„ ì…ë ¥í•˜ì„¸ìš”: ");
        String username = scanner.next();
        System.out.print("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”: ");
        String password = scanner.next();  // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ë¹„ë°€ë²ˆí˜¸ í•´ì‹± í•„ìš”
        System.out.print("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: ");
        String name = scanner.next();
        System.out.print("ì—­í• ì„ ì…ë ¥í•˜ì„¸ìš” (USER/ADMIN): ");
        String role = scanner.next().toUpperCase();
        System.out.print("ì„±ë³„ì„ ì…ë ¥í•˜ì„¸ìš” (M/F): ");
        String gender = scanner.next();
        System.out.print("íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”: ");
        String mobile = scanner.next();
        System.out.print("ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”: ");
        String email = scanner.next();

        Member member = new Member(0, username, password, name, role, gender, mobile, email);
        if (memberDAO.registerMember(member)) {
            System.out.println("íšŒì› ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
        } else {
            System.out.println("íšŒì› ê°€ì…ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.");
        }
    }

    // ë¡œê·¸ì¸
    public Member login() {
        System.out.print("ì‚¬ìš©ìëª…ì„ ì…ë ¥í•˜ì„¸ìš”: ");
        String username = scanner.next();
        System.out.print("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”: ");
        String password = scanner.next();

        Member member = memberDAO.login(username, password);
        if (member != null) {
            System.out.println("ë¡œê·¸ì¸ ì„±ê³µ! " + member.getName() + "ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤.");
        } else {
            System.out.println("ë¡œê·¸ì¸ ì‹¤íŒ¨! ì‚¬ìš©ìëª… ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.");
        }
        return member;
    }
}
ğŸ“Œ ì„¤ëª…:

register(): ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ íšŒì› ê°€ì… ì§„í–‰.
login(): ë¡œê·¸ì¸ ì„±ê³µ ì‹œ Member ê°ì²´ ë°˜í™˜.
ğŸ“Œ 3. ë©”ì¸ ì‹¤í–‰ íŒŒì¼ (Main.java)
ğŸ“‚ Main.java
java
ë³µì‚¬
í¸ì§‘
import service.MemberService;
import service.RentService;
import java.util.Scanner;
import model.Member;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        MemberService memberService = new MemberService();
        RentService rentService = new RentService();
        Member currentUser = null;

        while (true) {
            System.out.println("\n=== ë„ì„œ ëŒ€ì—¬ ê´€ë¦¬ ì‹œìŠ¤í…œ ===");
            System.out.println("1. íšŒì› ê°€ì…");
            System.out.println("2. ë¡œê·¸ì¸");
            System.out.println("3. ì¢…ë£Œ");
            System.out.print("ë©”ë‰´ ì„ íƒ: ");
            int choice = scanner.nextInt();

            switch (choice) {
                case 1:
                    memberService.register();
                    break;
                case 2:
                    currentUser = memberService.login();
                    if (currentUser != null) {
                        handleUserMenu(currentUser, rentService);
                    }
                    break;
                case 3:
                    System.out.println("í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.");
                    scanner.close();
                    System.exit(0);
                default:
                    System.out.println("ì˜¬ë°”ë¥¸ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            }
        }
    }

    private static void handleUserMenu(Member user, RentService rentService) {
        Scanner scanner = new Scanner(System.in);
        boolean isAdmin = user.getRole().equals("ADMIN");

        while (true) {
            System.out.println("\n=== ì‚¬ìš©ì ë©”ë‰´ (" + user.getRole() + ") ===");
            System.out.println("1. ë„ì„œ ëŒ€ì¶œ");
            System.out.println("2. ëŒ€ì¶œ ë‚´ì—­ ì¡°íšŒ");
            System.out.println("3. ë„ì„œ ë°˜ë‚©");
            System.out.println("4. ëŒ€ì¶œ ì—°ì¥");
            if (isAdmin) {
                System.out.println("5. ì „ì²´ íšŒì› ì¡°íšŒ");
            }
            System.out.println("6. ë¡œê·¸ì•„ì›ƒ");
            System.out.print("ë©”ë‰´ ì„ íƒ: ");
            int choice = scanner.nextInt();

            switch (choice) {
                case 1:
                    rentService.rentBook(user.getId());
                    break;
                case 2:
                    rentService.viewRentHistory(user.getId());
                    break;
                case 3:
                    rentService.returnBook();
                    break;
                case 4:
                    rentService.extendRent();
                    break;
                case 5:
                    if (isAdmin) {
                        new dao.MemberDAO().viewAllMembers();
                    } else {
                        System.out.println("ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤.");
                    }
                    break;
                case 6:
                    System.out.println("ë¡œê·¸ì•„ì›ƒí•©ë‹ˆë‹¤.");
                    return;
                default:
                    System.out.println("ì˜¬ë°”ë¥¸ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            }
        }
    }
}
ğŸ“Œ ì„¤ëª…:

ë©”ì¸ ë©”ë‰´: íšŒì›ê°€ì…, ë¡œê·¸ì¸, ì¢…ë£Œ
ë¡œê·¸ì¸ ì„±ê³µ ì‹œ: ì‚¬ìš©ì ë©”ë‰´ ì‹¤í–‰
ì‚¬ìš©ì ë©”ë‰´: ë„ì„œ ëŒ€ì¶œ, ë°˜ë‚©, ì—°ì¥ ê°€ëŠ¥
ê´€ë¦¬ì(admin) ë©”ë‰´: ì „ì²´ íšŒì› ì¡°íšŒ ê°€ëŠ¥
ğŸ“Œ 4. ë§ˆë¬´ë¦¬
âœ… ì™„ë£Œí•œ ë¶€ë¶„

íšŒì› ê´€ë¦¬ (ê°€ì…, ë¡œê·¸ì¸, íšŒì› ì¡°íšŒ)
ë„ì„œ ê´€ë¦¬
ëŒ€ì¶œ ê´€ë¦¬
ì—°ì²´ ê´€ë¦¬
ë©”ì¸ ì‹¤í–‰ íŒŒì¼ ì™„ì„±
ğŸš€ ì´ì œ ì‹¤í–‰í•´ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ì!
í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ë²„ê·¸ë‚˜ ê°œì„ í•  ì ì´ ìˆìœ¼ë©´ ë§í•´ì¤˜! ğŸ˜Š







ë‚˜ì˜ ë§:
DAOê°€ ë­ì˜ ì¤„ì„ë§ì´ì•¼
ChatGPTì˜ ë§:
DAOëŠ” Data Access Objectì˜ ì¤„ì„ë§ì´ì•¼.

ğŸ“Œ DAO (Data Access Object)ë€?
ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ë‹´ë‹¹í•˜ëŠ” ê°ì²´ë¥¼ ì˜ë¯¸í•´.
SQLì„ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹ , DAO í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì„ ìº¡ìŠí™”í•˜ê³  ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ëŠ” ì—­í• ì„ í•´.
ë³´í†µ insert, select, update, delete ê°™ì€ CRUD(Create, Read, Update, Delete) ê¸°ëŠ¥ì„ ìˆ˜í–‰í•´.
ğŸ“Œ DAOë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
ì½”ë“œ ë¶„ë¦¬ ë° ìœ ì§€ë³´ìˆ˜ ìš©ì´
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(Service)ê³¼ ë°ì´í„° ì ‘ê·¼ ë¡œì§(DB)ì„ ë¶„ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ë¥¼ ì‰½ê²Œ ë§Œë“¦.
ì¬ì‚¬ìš©ì„± ì¦ê°€
DAOë¥¼ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆì–´ ì¤‘ë³µ ì½”ë“œê°€ ì¤„ì–´ë“¦.
DB ë³€ê²½ ì‹œ ìœ ì—°í•œ ëŒ€ì‘ ê°€ëŠ¥
DB êµ¬ì¡°ê°€ ë³€ê²½ë˜ë”ë¼ë„ DAOë§Œ ìˆ˜ì •í•˜ë©´ ë˜ë¯€ë¡œ, ì „ì²´ ì½”ë“œë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì—†ìŒ.
ğŸ“Œ DAO íŒ¨í„´ êµ¬ì¡°
DAO íŒ¨í„´ì€ ë³´í†µ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ì´ë£¨ì–´ì ¸:

scss
ë³µì‚¬
í¸ì§‘
ğŸ“‚ src
 â”œâ”€â”€ ğŸ“‚ dao        (ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼, SQL ì‹¤í–‰)
 â”‚    â”œâ”€â”€ MemberDAO.java
 â”‚    â”œâ”€â”€ BookDAO.java
 â”‚    â”œâ”€â”€ RentDAO.java
 â”œâ”€â”€ ğŸ“‚ service    (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, DAO í˜¸ì¶œ)
 â”‚    â”œâ”€â”€ MemberService.java
 â”‚    â”œâ”€â”€ RentService.java
 â”œâ”€â”€ ğŸ“‚ model      (ë°ì´í„° ê°ì²´, DTO)
 â”‚    â”œâ”€â”€ Member.java
 â”‚    â”œâ”€â”€ Book.java
 â”‚    â”œâ”€â”€ Rent.java
 â”œâ”€â”€ ğŸ“‚ util       (DB ì—°ê²° ë° ê¸°íƒ€ ê¸°ëŠ¥)
 â”‚    â”œâ”€â”€ DBConnection.java
 â”œâ”€â”€ Main.java     (í”„ë¡œê·¸ë¨ ì‹¤í–‰)
ğŸ“Œ DAO ì˜ˆì‹œ ì½”ë“œ
java
ë³µì‚¬
í¸ì§‘
public class BookDAO {
    public List<Book> getAllBooks() {
        List<Book> books = new ArrayList<>();
        String query = "SELECT * FROM BOOK";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query);
             ResultSet rs = pstmt.executeQuery()) {
            while (rs.next()) {
                books.add(new Book(
                        rs.getInt("ID"),
                        rs.getString("TITLE"),
                        rs.getString("AUTHOR")
                ));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return books;
    }
}
ğŸ“Œ ì„¤ëª…:

getAllBooks()ëŠ” BOOK í…Œì´ë¸”ì—ì„œ ëª¨ë“  ë„ì„œë¥¼ ì¡°íšŒí•˜ëŠ” DAO ë©”ì„œë“œ.
Connectionì„ ì—´ì–´ SQLì„ ì‹¤í–‰í•˜ê³ , ê²°ê³¼ë¥¼ Book ê°ì²´ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜.
ğŸ“Œ ì •ë¦¬
DAO (Data Access Object)ëŠ” DBì™€ ì§ì ‘ ì—°ê²°í•˜ì—¬ ë°ì´í„°ë¥¼ CRUDí•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ê°ì²´.
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(Service)ê³¼ DB ì ‘ê·¼ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ë¥¼ ì‰½ê²Œ í•¨.
SQLì„ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  DAOë¥¼ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•¨.
ì‰½ê²Œ ë§í•˜ë©´, DAOëŠ” "DBì™€ ì—°ê²°í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ì €ì¥í•˜ëŠ” ì—­í• "ì„ í•˜ëŠ” í´ë˜ìŠ¤ì•¼! ğŸ˜Š







ë‚˜ì˜ ë§:
MODEL íŒ¨í‚¤ì§€ ê·¸ëŸ¬ë‹ˆê¹Œ DTOëŠ” ì™œ í•„ìš”í•œê±°ì•¼
ChatGPTì˜ ë§:
ğŸ“Œ DTO (Data Transfer Object)ë€?
DTOëŠ” Data Transfer Objectì˜ ì¤„ì„ë§ì´ì•¼.
ì¦‰, ë°ì´í„°ë¥¼ í•œ ê³³ì—ì„œ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì „ë‹¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê°ì²´ì•¼.

ğŸ“Œ DTOê°€ í•„ìš”í•œ ì´ìœ 
ë°ì´í„° ìº¡ìŠí™” (Encapsulation)

ë°ì´í„°ë¥¼ ê°ì²´ í˜•íƒœë¡œ ê´€ë¦¬í•´ì„œ SQL ì‹¤í–‰ ê²°ê³¼ë¥¼ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šê³ , ê°ì²´ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ.
ë°ì´í„° ì „ë‹¬ì˜ íš¨ìœ¨ì„±

ì—¬ëŸ¬ í•„ë“œë¥¼ ë¬¶ì–´ì„œ í•œ ë²ˆì— ì „ë‹¬í•  ìˆ˜ ìˆì–´ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆìŒ.
ìœ ì§€ë³´ìˆ˜ì„±ê³¼ ê°€ë…ì„± í–¥ìƒ

ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì„ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šê³  ê°ì²´ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§.
ë°ì´í„°ë¥¼ DTO í´ë˜ìŠ¤ë¡œ í•œ ë²ˆì— ê´€ë¦¬í•˜ë©´ ê°€ë…ì„±ì´ í–¥ìƒë¨.
ğŸ“Œ DAO vs DTO ì°¨ì´ì 
êµ¬ë¶„	DAO (Data Access Object)	DTO (Data Transfer Object)
ì—­í• 	DBì— ì ‘ê·¼í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” ì—­í• 	ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì „ë‹¬í•˜ëŠ” ì—­í• 
SQL ì‚¬ìš© ì—¬ë¶€	SQLì„ ì‚¬ìš©í•˜ì—¬ DBì™€ ì§ì ‘ ì—°ë™	SQL ì‚¬ìš© X, ë‹¨ìˆœí•œ ê°ì²´
ì±…ì„	DB CRUD ì—°ì‚°ì„ ë‹´ë‹¹	ë°ì´í„° ë³´ê´€ ë° ì „ë‹¬
ì˜ˆì œ	BookDAO, MemberDAO	Book, Member
ğŸ“Œ DTO ì‚¬ìš© ì˜ˆì‹œ
ğŸ“‚ model/Book.java (DTO ì˜ˆì œ)
java
ë³µì‚¬
í¸ì§‘
package model;

public class Book {
    private int id;
    private String title;
    private String isbn;
    private String author;
    private String publisher;
    private int issueYear;
    private double price;
    private int stock;

    // ìƒì„±ì
    public Book(int id, String title, String isbn, String author, String publisher, int issueYear, double price, int stock) {
        this.id = id;
        this.title = title;
        this.isbn = isbn;
        this.author = author;
        this.publisher = publisher;
        this.issueYear = issueYear;
        this.price = price;
        this.stock = stock;
    }

    // Getter & Setter ë©”ì„œë“œ
    public int getId() { return id; }
    public String getTitle() { return title; }
    public String getIsbn() { return isbn; }
    public String getAuthor() { return author; }
    public String getPublisher() { return publisher; }
    public int getIssueYear() { return issueYear; }
    public double getPrice() { return price; }
    public int getStock() { return stock; }

    public void setId(int id) { this.id = id; }
    public void setTitle(String title) { this.title = title; }
    public void setIsbn(String isbn) { this.isbn = isbn; }
    public void setAuthor(String author) { this.author = author; }
    public void setPublisher(String publisher) { this.publisher = publisher; }
    public void setIssueYear(int issueYear) { this.issueYear = issueYear; }
    public void setPrice(double price) { this.price = price; }
    public void setStock(int stock) { this.stock = stock; }
}
ğŸ“Œ ì„¤ëª…:

Book ê°ì²´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ BOOK í…Œì´ë¸”ê³¼ 1:1 ë§¤ì¹­ë˜ëŠ” DTO ì—­í• ì„ í•¨.
DAOì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ Book ê°ì²´ì— ì €ì¥í•˜ê³ , í•„ìš”í•œ ê³³ì— ì „ë‹¬í•  ìˆ˜ ìˆìŒ.
ğŸ“Œ DAOì—ì„œ DTOë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œ
ğŸ“‚ dao/BookDAO.java
java
ë³µì‚¬
í¸ì§‘
package dao;
import model.Book;
import util.DBConnection;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class BookDAO {

    // ë„ì„œ ëª©ë¡ ì¡°íšŒ (Read)
    public List<Book> getAllBooks() {
        List<Book> books = new ArrayList<>();
        String query = "SELECT * FROM BOOK";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(query);
             ResultSet rs = pstmt.executeQuery()) {
            while (rs.next()) {
                books.add(new Book(
                        rs.getInt("ID"),
                        rs.getString("TITLE"),
                        rs.getString("ISBN"),
                        rs.getString("AUTHOR"),
                        rs.getString("PUBLISHER"),
                        rs.getInt("ISSUE_YEAR"),
                        rs.getDouble("PRICE"),
                        rs.getInt("STOCK")
                ));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return books;
    }
}
ğŸ“Œ ì„¤ëª…:

DAOëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•œ ê²°ê³¼ë¥¼ Book DTO ê°ì²´ì— ë‹´ì•„ì„œ ë°˜í™˜í•¨.
ì´ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ ê³„ì¸µ(Service)ì—ì„œ DTO ê°ì²´ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ.
ğŸ“Œ DTOì˜ ì¥ì 
âœ… SQLì„ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šê³  ê°ì²´ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„° ê´€ë¦¬
âœ… ë°ì´í„°ì˜ ì´ë™ê³¼ ì „ë‹¬ì„ ì‰½ê²Œ ê´€ë¦¬
âœ… ì½”ë“œ ê°€ë…ì„±ì´ í–¥ìƒë˜ê³  ìœ ì§€ë³´ìˆ˜ì„±ì´ ì¢‹ì•„ì§
âœ… DAOì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œ êµ¬ì¡°ë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€

ğŸ“Œ ê²°ë¡ 
ğŸ‘‰ DTOëŠ” ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ê°ì²´ì•¼!
ğŸ‘‰ DAOëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ ì§ì ‘ ì—°ê²°í•˜ì—¬ CRUDë¥¼ ìˆ˜í–‰í•˜ê³ , DTOëŠ” ê·¸ ë°ì´í„°ë¥¼ ë‹´ì•„ì„œ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•´.
ğŸ‘‰ DAO â†’ DTO â†’ Service â†’ Controller â†’ View ì´ëŸ° êµ¬ì¡°ë¡œ ì‚¬ìš©í•˜ë©´ ì½”ë“œê°€ í›¨ì”¬ ê¹”ë”í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì ¸! ğŸ˜Š











ê²€ìƒ‰


ChatGPTëŠ” ì‹¤ìˆ˜ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.
